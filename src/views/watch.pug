extends base

block content
  div#videoContainer(data-id=video._id)
    video(src='/' + video.fileUrl)  
    div#videoControls
      input(type="range", step="0.1", value="0", min="0")#timeLine
      div#controls--btns
        div#btns--left
          button#play 
            i.fas.fa-play 
          button#mute 
            i.fas.fa-volume-up 
          input(type="range", step="0.1", value="0.5", min="0", max="1")#volume
          div.time.stop-dragging
            span#currentTime 00:00:00
            span  / 
            span#totalTime 00:00:00
        button#fullscreen 
          i.fas.fa-expand
  div 
    p=video.description
    small=video.createdAt
  div 
    small Upload by 
      a(href=`/users/${video.owner._id}`)=video.owner.name
  if String(video.owner._id) === String(userInfo._id)
    a(href=`${video.id}/edit`) Edit Video &rarr;
    br
    a(href=`${video.id}/delete`) Delete Video &rarr;
  if loggedIn
    form.video__add--comments#commentForm 
      textarea(cols="30", rows="10", placeholder="Write a comment...")
      button Add Comment
  div.video__comments 
    ul
      each comment in video.comments.reverse()
        li.video__comment 
          div.user__info
            a(href=`/users/${comment.owner._id}`)
              img(onerror="this.src='/uploads/avatar/NoImage.png'",src="/" + comment.owner.avatarUrl) 
            | #{comment.owner.name} #{comment.createdAt.toLocaleString()}
            
          div.text #{comment.text}
    
block scripts 
  script(src="/static/js/videoPlayer.js")
  script(src="/static/js/commentSection.js") 




//-
  
